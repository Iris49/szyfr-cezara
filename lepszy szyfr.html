<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Szyfracja i odszyfrowanie</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        textarea {
            width: 100%;
            height: 100px;
            margin-bottom: 10px;
        }
        button {
            padding: 10px;
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
        }
        button:hover {
            background-color: #45a049;
        }
        .result {
            margin-top: 20px;
        }
    </style>
</head>
<body>

    <h1>Szyfrowanie i odszyfrowywanie tekstu</h1>
    <textarea id="inputText" placeholder="Wpisz tekst do zaszyfrowania..."></textarea><br>
    <button onclick="encryptText()">Szyfruj</button>
    <button onclick="decryptText()">Odszyfruj</button>

    <div class="result">
        <h3>Wynik:</h3>
        <textarea id="outputText" readonly placeholder="Tu pojawi się zaszyfrowany/odszyfrowany tekst..."></textarea>
    </div>

    <script>
        // Oryginalny szyfr - przesuwanie znaków o losową wartość w obrębie alfabetu
        function originalCipher(text) {
            let result = '';
            for (let i = 0; i < text.length; i++) {
                let char = text[i];
                if (/[a-zA-Z]/.test(char)) {
                    let shift = Math.floor(Math.random() * 10) + 1;  // Losowa liczba od 1 do 10
                    let charCode = char.charCodeAt(0);
                    let base = (charCode >= 65 && charCode <= 90) ? 65 : 97;  // Sprawdzamy, czy to duża czy mała litera
                    char = String.fromCharCode(((charCode - base + shift) % 26) + base);
                }
                result += char;
            }
            return result;
        }

        // Odszyfrowywanie - metoda odwrotna do oryginalnego szyfru
        function originalDecipher(text) {
            let result = '';
            for (let i = 0; i < text.length; i++) {
                let char = text[i];
                if (/[a-zA-Z]/.test(char)) {
                    let shift = Math.floor(Math.random() * 10) + 1;  // Losowa liczba od 1 do 10
                    let charCode = char.charCodeAt(0);
                    let base = (charCode >= 65 && charCode <= 90) ? 65 : 97;  // Sprawdzamy, czy to duża czy mała litera
                    char = String.fromCharCode(((charCode - base - shift + 26) % 26) + base);
                }
                result += char;
            }
            return result;
        }

        // Funkcja szyfrowania
        function encryptText() {
            let inputText = document.getElementById("inputText").value;
            let encryptedText = originalCipher(inputText);
            document.getElementById("outputText").value = encryptedText;
        }

        // Funkcja odszyfrowania
        function decryptText() {
            let inputText = document.getElementById("inputText").value;
            let decryptedText = originalDecipher(inputText);
            document.getElementById("outputText").value = decryptedText;
        }
    </script>

</body>
</html>
